---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Performance Guide">
    <main class="min-h-screen bg-gradient-to-b from-stone-900 via-stone-800 to-stone-900">
        <div class="container mx-auto px-4 py-8">
            <h1 class="text-4xl font-bold mb-8 text-purple-400 text-center">
                Performance Guide
            </h1>

            <div class="max-w-4xl mx-auto space-y-12">
                {/* RAM Section */}
                <section>
                    <h2 class="text-3xl font-bold mb-8 text-purple-400 border-b border-purple-900/50 pb-4">
                        1. Allocate more RAM
                    </h2>

                    <div class="bg-purple-900/30 p-4 rounded-lg border border-purple-500/10 mb-6">
                        <h3 class="text-xl font-bold text-purple-200 mb-4">If you don't know how much RAM your device
                            has:</h3>
                        <div class="p-4 bg-purple-900/20 rounded-lg border border-purple-500/10">
                            <ol class="list-decimal list-inside text-purple-100/80 space-y-2">
                                <li>Open Task Manager (Ctrl + Shift + Esc)</li>
                                <li>Open the performance tab</li>
                                <li>Press the memory label, your RAM amount is written in the top right (e.g. 16 GB)
                                </li>
                            </ol>
                        </div>
                    </div>

                    <div class="bg-purple-900/20 rounded-lg p-6 border border-purple-500/10 mb-6">
                        <h3 class="text-xl font-bold mb-4 text-purple-200">General rule of thumb for Minecraft
                            modpacks:</h3>
                        <ul class="list-disc list-inside text-purple-100/80 space-y-2">
                            <li>If you have <b>8 GB or Less</b>: Allocate between 5 GB (5000 MB) to 5.5 GB (5500 MB)
                            </li>
                            <li>If you have <b>more than 8 GB</b>: Allocate 8 GB (8000 MB) to 10 GB (10000 MB)</li>
                            <p><b>Never allocate more than 12GB</b> unless you are absolutely sure you need it (for example,
                                extremely high render distances or Distant Horizons).<br/>
                                Excessively high RAM allocation can <i>decrease</i> performance!</p>
                        </ul>
                    </div>

                    <div class="bg-purple-900/30 p-4 rounded-lg border border-purple-500/10 mb-6">
                        <h3 class="text-xl font-bold text-purple-200 mb-4">How to change the amount of memory allocated
                            to Minecraft</h3>
                        <div class="p-4 bg-purple-900/20 rounded-lg border border-purple-500/10">
                            <ul class="text-purple-100/80 space-y-2">
                                <li>
                                    <a href="https://www.youtube.com/watch?v=UYYwjqBcQMQ"
                                       target="_blank"
                                       class="text-purple-400 hover:text-purple-300 transition-colors">
                                        ATLauncher Instructions →
                                    </a>
                                </li>
                                <li>
                                    <a href="https://youtu.be/GFFRJ9RcrG8?t=32"
                                       target="_blank"
                                       class="text-purple-400 hover:text-purple-300 transition-colors">
                                        CurseForge Instructions →
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="bg-red-900/20 rounded-lg p-4 border border-red-500/10">
                        <p class="text-red-200/90">
                            <span class="font-bold">Important:</span> Make sure you have at least 12 gigabytes of
                            storage free
                            on all of your drives, or your computer may be unable to properly use your system's memory!
                        </p>
                    </div>
                </section>

                {/* Launcher Section */}
                <section>
                    <h2 class="text-3xl font-bold mb-8 text-purple-400 border-b border-purple-900/50 pb-4">
                        2. Use a Reliable Launcher
                    </h2>

                    <div class="bg-purple-900/20 rounded-lg p-6 border border-purple-500/10 space-y-6">
                        <div>
                            <h3 class="text-xl font-bold mb-4 text-purple-200">Installing ATLauncher</h3>

                            <p class="text-purple-100/80">
                                We recommend using ATLauncher as a reliable, effective, and performant launcher.
                                Download the launcher from their <a href="https://atlauncher.com/downloads">website</a>,
                                or directly from the <a
                                    href="https://github.com/ATLauncher/ATLauncher/releases">Github</a>
                                repository.
                            </p><br />
                            <p class="text-purple-100/80">Once installed, follow <a
                                    href="https://wiki.atlauncher.com/getting-started/logging-in/">this guide</a>
                                to add your Minecraft
                                account to the launcher.
                            </p>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold mb-4 text-purple-200">Installing the Modpack</h3>
                            <ol class="list-decimal list-inside text-purple-100/80 space-y-2">
                                <li>Go to the Packs tab on the right, then click "Curseforge" on the left</li>
                                <li>Search "Otherworld"</li>
                                <li>Click "New Instance". Click "Ok" on the opted out mods warning, then click "Open All
                                    in Browser"
                                </li>
                                <li>Let the mods download, ATLauncher will grab them automatically</li>
                                <li>Go to the Instances tab, and click "Play" on the modpack</li>
                            </ol>
                        </div>

                        <div class="bg-purple-900/30 rounded-lg p-4 border border-purple-500/10">
                            <h4 class="text-lg font-bold mb-2 text-purple-200">Transferring Data</h4>
                            <p class="text-purple-100/80">
                                If you already have an instance on another launcher,
                                and would like to transfer over your save data,
                                simply open the modpack files on your old launcher and copy over the <b>saves</b>
                                folder.
                            </p>
                            <p class="text-purple-100/80">
                                If you want to transfer over your map data, do the same with the Journeymap folder.
                            </p>
                        </div>
                    </div>
                </section>



                {/* Java Section */}
                <section>
                    <h2 class="text-3xl font-bold mb-8 text-purple-400 border-b border-purple-900/50 pb-4">
                        3. Install an Optimized Version of Java
                    </h2>

                    <div class="bg-red-900/20 rounded-lg p-4 border border-red-500/10 mb-6">
                        <p class="text-red-200/90 font-bold">
                            This will not work with the CurseForge launcher!
                        </p>
                    </div>

                    <div class="bg-purple-900/20 rounded-lg p-6 border border-purple-500/10 mb-6">
                        <p class="text-purple-100/80">
                            GraalVM distributions of Java are by far the most performant, but they are a bit complicated to install.
                            This is completely worth it, though, as performance increases from this process can be pretty massive.
                        </p>
                    </div>

                    {/* OS-specific Instructions */}
                    <div class="space-y-4">
                        <details class="group">
                            <summary class="cursor-pointer p-4 bg-purple-900/30 rounded-lg border border-purple-500/10
                                         hover:bg-purple-900/40 transition-all duration-200">
                                <div class="flex items-center">
                                    <h3 class="text-xl font-bold text-purple-200">Windows Installation</h3>
                                    <span class="ml-auto text-purple-400 group-open:rotate-180 transition-transform duration-200">▼</span>
                                </div>
                            </summary>
                            <div class="p-4 mt-2 bg-purple-900/20 rounded-lg border border-purple-500/10">
                                <ol class="list-decimal list-inside text-purple-100/80 space-y-2">
                                    <li>Go to the <a href="https://github.com/chorbintime/download-graal" class="text-purple-400 hover:text-purple-300 transition-colors">GitHub page</a> for our custom install script</li>
                                    <li>Scroll down and follow the steps provided. Wait about a minute after running the file</li>
                                    <li>Open ATLauncher</li>
                                    <li>Click "Settings" on the right</li>
                                    <li>Click "Java/Minecraft" at the top</li>
                                    <li>Uncheck "Use Java Provided by Minecraft"</li>
                                    <li>Click "Set Java Path to Autofill"</li>
                                    <li>Select the option that includes "graalvm-jdk" in the name</li>
                                </ol>
                                <div class="mt-4 bg-purple-900/30 p-4 rounded-lg">
                                    <p class="text-purple-100/80">
                                        If the GraalVM option isn't available, set this path manually (replace YOUR_PC_NAME_HERE with your Windows username):
                                        <code class="block mt-2 bg-purple-900/40 p-2 rounded">
                                            C:\Users\YOUR_PC_NAME_HERE\Java\graalvm-jdk-21.0.4+8.1
                                        </code>
                                    </p>
                                </div>
                            </div>
                        </details>

                        <details class="group">
                            <summary class="cursor-pointer p-4 bg-purple-900/30 rounded-lg border border-purple-500/10
                                         hover:bg-purple-900/40 transition-all duration-200">
                                <div class="flex items-center">
                                    <h3 class="text-xl font-bold text-purple-200">Linux Installation</h3>
                                    <span class="ml-auto text-purple-400 group-open:rotate-180 transition-transform duration-200">▼</span>
                                </div>
                            </summary>
                            <div class="p-4 mt-2 bg-purple-900/20 rounded-lg border border-purple-500/10">
                                <div class="mb-4">
                                    <p class="text-purple-100/80 mb-2">For Minecraft 1.18.2 or newer:</p>
                                    <a href="https://www.graalvm.org/downloads/" class="text-purple-400 hover:text-purple-300 transition-colors">Download Java 21 →</a>
                                </div>
                                <div class="mb-4">
                                    <p class="text-purple-100/80 mb-2">For Minecraft 1.16.5:</p>
                                    <a href="https://github.com/graalvm/graalvm-ce-builds/releases/tag/vm-21.3.3.1" class="text-purple-400 hover:text-purple-300 transition-colors">Download Java 11 →</a>
                                </div>
                                <ol class="list-decimal list-inside text-purple-100/80 space-y-2 mt-4">
                                    <li>Open ATLauncher</li>
                                    <li>Click "Settings" on the right</li>
                                    <li>Click "Java/Minecraft" at the top</li>
                                    <li>Uncheck "Use Java Provided by Minecraft"</li>
                                    <li>Click "Set Java Path to Autofill"</li>
                                    <li>Select the option that includes "graalvm-jdk"</li>
                                </ol>
                            </div>
                        </details>

                        <details class="group">
                            <summary class="cursor-pointer p-4 bg-purple-900/30 rounded-lg border border-purple-500/10
                                         hover:bg-purple-900/40 transition-all duration-200">
                                <div class="flex items-center">
                                    <h3 class="text-xl font-bold text-purple-200">Mac Installation</h3>
                                    <span class="ml-auto text-purple-400 group-open:rotate-180 transition-transform duration-200">▼</span>
                                </div>
                            </summary>
                            <div class="p-4 mt-2 bg-purple-900/20 rounded-lg border border-purple-500/10">
                                <div class="mb-4">
                                    <p class="text-purple-100/80">
                                        Download the appropriate .dmg file:
                                        <a href="https://www.azul.com/downloads/?version=java-21-lts&os=macos&package=jdk&show-old-builds=true#zulu" class="text-purple-400 hover:text-purple-300 transition-colors ml-2">Download →</a>
                                        <br/>
                                        <span class="text-purple-100/60 text-sm">(M-series Macs should use the ARM64 version)</span>
                                    </p>
                                </div>
                                <ol class="list-decimal list-inside text-purple-100/80 space-y-2">
                                    <li>Open ATLauncher</li>
                                    <li>Click "Settings" on the right</li>
                                    <li>Click "Java/Minecraft" at the top</li>
                                    <li>Uncheck "Use Java Provided by Minecraft"</li>
                                    <li>Set Java path to: <code class="bg-purple-900/40 p-1 rounded">/Library/Java/JavaVirtualMachines/zulu-21.jdk/Contents/Home</code></li>
                                </ol>
                            </div>
                        </details>
                    </div>

                    {/* Optimization Parameters */}
                    <div class="bg-purple-900/20 rounded-lg p-6 border border-purple-500/10 mt-6">
                        <h3 class="text-xl font-bold mb-4 text-purple-200">Additional Optimization - Launch Args (1.18.2+)</h3>
                        <p class="text-purple-100/80 mb-4">
                            If you're on 1.18.2+ and have already switched to GraalVM, you may get extra performance by tweaking Java's startup
                            parameters. We recommend Mukul1127's
                            <a href="https://github.com/Mukul1127/Minecraft-Performance-Flags-Benchmarks?tab=readme-ov-file#graalvm-java-arguments">GraalVM parameters</a>
                            combined with their
                            <a href="https://github.com/Mukul1127/Minecraft-Performance-Flags-Benchmarks?tab=readme-ov-file#client-g1gc">G1GC parameters.</a>
                            This difference can be pretty minor, or even counterproductive in some cases - so feel free to remove these
                            flags if they don't work for you.
                        </p>
                        <div class="bg-purple-900/30 p-4 rounded-lg border border-purple-500/10">
                            <p class="text-purple-100/80">
                                To add these arguments to your game on ATLauncher, simply input them in the "Java Parameters"
                                box on the same Java/Minecraft screen from earlier.
                                <b>Make sure that you input both the GraalVM parameters and the G1GC parameters.</b>
                                These two can be added in any order, so don't worry about which order you paste them.
                            </p>
                            <p class="text-purple-100/80">
                                When you're done, click "Save" at the bottom of the Java/Minecraft screen. <b />

                                If the game crashes after, then make sure that theres a space between each parameter
                                (every parameter starts with a dash). If it still crashes, you can ask in our Discord - or
                                just remove all of the parameters you've added and click the "Reset" button.
                            </p>
                        </div>
                    </div>
                </section>



                {/* Laptop GPU Section */}
                <section>
                    <h2 class="text-3xl font-bold mb-8 text-purple-400 border-b border-purple-900/50 pb-4">
                        4. Make sure Minecraft is using your dedicated GPU
                    </h2>

                    <div class="bg-purple-900/20 rounded-lg p-6 border border-purple-500/10 mb-6">
                        <p class="text-purple-100/80">
                            Ensuring Minecraft uses your dedicated GPU instead of integrated graphics can
                            <span class="font-bold">dramatically improve performance</span>. Many laptops default to using
                            the weaker integrated GPU to save power.
                        </p>
                    </div>

                    <div class="bg-purple-900/30 p-4 rounded-lg border border-purple-500/10">
                        <h3 class="text-xl font-bold text-purple-200 mb-4">How to Switch GPUs</h3>
                        <div class="p-4 bg-purple-900/20 rounded-lg border border-purple-500/10">
                            <p class="text-purple-100/80 mb-4">
                                Follow this step-by-step guide to ensure Minecraft is using your dedicated GPU:
                            </p>
                            <a href="https://gist.github.com/KhanhPham05/30cad61653fbce7a7b79558340ee608c"
                               target="_blank"
                               class="inline-block bg-purple-900/40 px-4 py-2 rounded-lg text-purple-400
                                      hover:text-purple-300 hover:bg-purple-900/50 transition-colors">
                                View GPU Configuration Guide →
                            </a>
                        </div>
                    </div>
                </section>



                {/* GPU Drivers Section */}
                <section>
                    <h2 class="text-3xl font-bold mb-8 text-purple-400 border-b border-purple-900/50 pb-4">
                        5. Update your GPU Drivers
                    </h2>

                    <div class="bg-purple-900/20 rounded-lg p-6 border border-purple-500/10 mb-6">
                        <p class="text-purple-100/80">
                            Updating GPU drivers will ensure you have the latest performance boosts provided by your GPU vendor.
                            Also, many rendering mods like Sodium may encounter serious issues if you are using very old drivers.
                        </p>
                    </div>

                    {/* Finding Your GPU */}
                    <div class="bg-purple-900/30 p-4 rounded-lg border border-purple-500/10 mb-6">
                        <h3 class="text-xl font-bold text-purple-200 mb-4">Finding Your GPU</h3>
                        <div class="p-4 bg-purple-900/20 rounded-lg border border-purple-500/10">
                            <ol class="list-decimal list-inside text-purple-100/80 space-y-2">
                                <li>Open Task Manager (Ctrl + Shift + Esc)</li>
                                <li>Open the performance tab</li>
                                <li>Press GPU 0, your GPU is written on the top right (e.g. NVIDIA GeForce GTX 1070 Ti)</li>
                            </ol>
                            <div class="mt-4 bg-purple-900/40 p-4 rounded-lg">
                                <p class="text-purple-100/80">
                                    <span class="font-bold">Note:</span> It's possible your PC has multiple GPUs (you will see GPU 0 and GPU 1).
                                    Usually GPU 1 will be the dedicated (better) GPU, and it will typically be from either AMD or NVIDIA.
                                </p>
                            </div>
                        </div>
                    </div>

                    {/* Driver Downloads */}
                    <div class="bg-purple-900/30 p-4 rounded-lg border border-purple-500/10">
                        <h3 class="text-xl font-bold text-purple-200 mb-4">Driver Downloads by Manufacturer</h3>
                        <div class="p-4 bg-purple-900/20 rounded-lg border border-purple-500/10">
                            <ul class="space-y-4 text-purple-100/80">
                                <li class="flex flex-col space-y-2">
                                    <span class="font-bold text-purple-200">AMD</span>
                                    <div class="flex items-center space-x-2">
                                        <a href="https://www.amd.com/en/support"
                                           target="_blank"
                                           class="text-purple-400 hover:text-purple-300 transition-colors">
                                            Download Windows Drivers →
                                        </a>
                                    </div>
                                </li>

                                <li class="flex flex-col space-y-2">
                                    <span class="font-bold text-purple-200">Intel</span>
                                    <div class="flex items-center space-x-2">
                                        <a href="https://www.intel.com/content/www/us/en/download-center/home.html"
                                           target="_blank"
                                           class="text-purple-400 hover:text-purple-300 transition-colors">
                                            Download Center →
                                        </a>
                                        <span class="text-purple-100/60">(Click "Get Started" under Automatic Updates)</span>
                                    </div>
                                </li>

                                <li class="flex flex-col space-y-2">
                                    <span class="font-bold text-purple-200">NVIDIA</span>
                                    <div class="flex items-center space-x-2">
                                        <a href="https://www.nvidia.com/Download/index.aspx?lang=en-us"
                                           target="_blank"
                                           class="text-purple-400 hover:text-purple-300 transition-colors">
                                            Download Drivers →
                                        </a>
                                        <span class="text-purple-100/60">(Choose "Express Installation" when prompted)</span>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </section>


                {/* Credits Section */}
                <section class="mt-16">
                    <div class="bg-purple-900/20 rounded-lg p-6 border border-purple-500/10 text-center">
                        <p class="text-purple-100/80">
                            This is a snippet from the Performance Guide written by
                            <a href="https://ko-fi.com/chorb"
                               target="_blank"
                               class="text-purple-400 hover:text-purple-300 transition-colors font-bold">
                                Chloe
                            </a>
                            <br/>
                            <a href="https://rpg.prominence.wiki/performance-guide"
                               target="_blank"
                               class="text-purple-400 hover:text-purple-300 transition-colors text-sm">
                                View original guide →
                            </a>
                        </p>
                    </div>
                </section>
            </div>
        </div>
    </main>
</Layout>